!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("@rjsf/utils"),require("lodash-es/get"),require("lodash-es/isEmpty"),require("lodash-es/pick"),require("lodash-es/toPath"),require("lodash-es/isObject"),require("lodash-es/set"),require("nanoid"),require("lodash-es/omit"),require("lodash-es/has"),require("lodash-es/unset")):"function"==typeof define&&define.amd?define(["exports","react","@rjsf/utils","lodash-es/get","lodash-es/isEmpty","lodash-es/pick","lodash-es/toPath","lodash-es/isObject","lodash-es/set","nanoid","lodash-es/omit","lodash-es/has","lodash-es/unset"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).JSONSchemaForm={},e.React,e.utils,e.get,e.isEmpty,e._pick,e._toPath,e.isObject,e.set,e.nanoid,e.omit,e.has,e.unset)}(this,(function(e,t,r,a,i,n,o,l,s,d,u,c,m){"use strict";function f(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=f(t),h=f(a),v=f(i),y=f(n),g=f(o),E=f(l),S=f(s),b=f(u),C=f(c),F=f(m);function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},D.apply(this,arguments)}function O(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function x(e,t){if(null==e)return{};var r,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)t.indexOf(r=n[a])>=0||(i[r]=e[r]);return i}var T=["widget"],N=["widget"],A=["widget"];function w(){return d.nanoid()}function I(e){return Array.isArray(e)?e.map((function(e){return{key:w(),item:e}})):[]}function B(e){return Array.isArray(e)?e.map((function(e){return e.item})):[]}var U=function(e){function t(t){var a;(a=e.call(this,t)||this)._getNewFormDataRow=function(){var e=a.props,t=e.schema,i=e.registry.schemaUtils,n=t.items;return r.isFixedItems(t)&&r.allowAdditionalItems(t)&&(n=t.additionalItems),i.getDefaultFormState(n)},a.onAddClick=function(e){a._handleAddClick(e)},a.onAddIndexClick=function(e){return function(t){a._handleAddClick(t,e)}},a.onDropIndexClick=function(e){return function(t){t&&t.preventDefault();var r,i=a.props,n=i.onChange,o=i.errorSchema,l=a.state.keyedFormData;if(o)for(var s in r={},o){var d=parseInt(s);d<e?S.default(r,[d],o[s]):d>e&&S.default(r,[d-1],o[s])}var u=l.filter((function(t,r){return r!==e}));a.setState({keyedFormData:u,updatedKeyedFormData:!0},(function(){return n(B(u),r)}))}},a.onReorderClick=function(e,t){return function(r){r&&(r.preventDefault(),r.currentTarget.blur());var i,n=a.props,o=n.onChange,l=n.errorSchema;if(a.props.errorSchema)for(var s in i={},l){var d=parseInt(s);d==e?S.default(i,[t],l[e]):d==t?S.default(i,[e],l[t]):S.default(i,[s],l[d])}var u,c=a.state.keyedFormData,m=((u=c.slice()).splice(e,1),u.splice(t,0,c[e]),u);a.setState({keyedFormData:m},(function(){return o(B(m),i)}))}},a.onChangeForIndex=function(e){return function(t,r,i){var n,o=a.props,l=o.formData,s=o.errorSchema;(0,o.onChange)((Array.isArray(l)?l:[]).map((function(r,a){return e===a?void 0===t?null:t:r})),s&&s&&D({},s,((n={})[e]=r,n)),i)}},a.onSelectChange=function(e){var t=a.props,r=t.idSchema;(0,t.onChange)(e,void 0,r&&r.$id)};var i=t.formData,n=I(void 0===i?[]:i);return a.state={keyedFormData:n,updatedKeyedFormData:!1},a}O(t,e),t.getDerivedStateFromProps=function(e,t){if(t.updatedKeyedFormData)return{updatedKeyedFormData:!1};var r=Array.isArray(e.formData)?e.formData:[],a=t.keyedFormData||[];return{keyedFormData:r.length===a.length?a.map((function(e,t){return{key:e.key,item:r[t]}})):I(r)}};var a,i,n=t.prototype;return n.isItemRequired=function(e){return Array.isArray(e.type)?!e.type.includes("null"):"null"!==e.type},n.canAddItem=function(e){var t=this.props,a=t.schema,i=r.getUiOptions(t.uiSchema).addable;return!1!==i&&(i=void 0===a.maxItems||e.length<a.maxItems),i},n._handleAddClick=function(e,t){e&&e.preventDefault();var r=this.props.onChange,a=this.state.keyedFormData,i={key:w(),item:this._getNewFormDataRow()},n=[].concat(a);void 0!==t?n.splice(t,0,i):n.push(i),this.setState({keyedFormData:n,updatedKeyedFormData:!0},(function(){return r(B(n))}))},n.render=function(){var e=this.props,t=e.schema,a=e.uiSchema,i=e.idSchema,n=e.registry,o=n.schemaUtils;if(!(r.ITEMS_KEY in t)){var l=r.getUiOptions(a),s=r.getTemplate("UnsupportedFieldTemplate",n,l);return p.default.createElement(s,{schema:t,idSchema:i,reason:"Missing items definition",registry:n})}return o.isMultiSelect(t)?this.renderMultiSelect():r.isCustomWidget(a)?this.renderCustomWidget():r.isFixedItems(t)?this.renderFixedArray():o.isFilesArray(t,a)?this.renderFiles():this.renderNormalArray()},n.renderNormalArray=function(){var e=this,t=this.props,a=t.schema,i=t.uiSchema,n=void 0===i?{}:i,o=t.errorSchema,l=t.idSchema,s=t.name,d=t.disabled,u=void 0!==d&&d,c=t.readonly,m=void 0!==c&&c,f=t.autofocus,h=void 0!==f&&f,v=t.required,y=void 0!==v&&v,g=t.registry,S=t.onBlur,b=t.onFocus,C=t.idPrefix,F=t.idSeparator,O=void 0===F?"_":F,k=t.rawErrors,x=this.state.keyedFormData,T=void 0===a.title?s:a.title,N=g.schemaUtils,A=g.formContext,w=r.getUiOptions(n),I=E.default(a.items)?a.items:{},U=N.retrieveSchema(I),P=B(this.state.keyedFormData),q=this.canAddItem(P),R={canAdd:q,items:x.map((function(t,r){var a=t.key,i=t.item,d=N.retrieveSchema(I,i),u=o?o[r]:void 0,c=N.toIdSchema(d,l.$id+O+r,i,C,O);return e.renderArrayFieldItem({key:a,index:r,name:s&&s+"-"+r,canAdd:q,canMoveUp:r>0,canMoveDown:r<P.length-1,itemSchema:d,itemIdSchema:c,itemErrorSchema:u,itemData:i,itemUiSchema:n.items,autofocus:h&&0===r,onBlur:S,onFocus:b,rawErrors:k,totalItems:x.length})})),className:"field field-array field-array-of-"+U.type,disabled:u,idSchema:l,uiSchema:n,onAddClick:this.onAddClick,readonly:m,required:y,schema:a,title:T,formContext:A,formData:P,rawErrors:k,registry:g},_=r.getTemplate("ArrayFieldTemplate",g,w);return p.default.createElement(_,D({},R))},n.renderCustomWidget=function(){var e=this.props,t=e.schema,a=e.idSchema,i=e.uiSchema,n=e.disabled,o=void 0!==n&&n,l=e.readonly,s=void 0!==l&&l,d=e.autofocus,u=void 0!==d&&d,c=e.required,m=void 0!==c&&c,f=e.hideError,h=e.placeholder,v=e.onBlur,y=e.onFocus,g=e.formData,E=void 0===g?[]:g,S=e.registry,b=e.rawErrors,C=S.widgets,F=S.formContext,D=t.title||e.name,O=r.getUiOptions(i),k=O.widget,N=x(O,T),A=r.getWidget(t,k,C);return p.default.createElement(A,{id:a.$id,multiple:!0,onChange:this.onSelectChange,onBlur:v,onFocus:y,options:N,schema:t,uiSchema:i,registry:S,value:E,disabled:o,readonly:s,hideError:f,required:m,label:D,placeholder:h,formContext:F,autofocus:u,rawErrors:b})},n.renderMultiSelect=function(){var e=this.props,t=e.schema,a=e.idSchema,i=e.uiSchema,n=e.formData,o=void 0===n?[]:n,l=e.disabled,s=void 0!==l&&l,d=e.readonly,u=void 0!==d&&d,c=e.autofocus,m=void 0!==c&&c,f=e.required,h=void 0!==f&&f,v=e.placeholder,y=e.onBlur,g=e.onFocus,E=e.registry,S=e.rawErrors,b=e.name,C=E.widgets,F=E.formContext,O=E.schemaUtils.retrieveSchema(t.items,o),k=t.title||b,T=r.optionsList(O),A=r.getUiOptions(i),w=A.widget,I=void 0===w?"select":w,B=x(A,N),U=r.getWidget(t,I,C);return p.default.createElement(U,{id:a.$id,multiple:!0,onChange:this.onSelectChange,onBlur:y,onFocus:g,options:D({},B,{enumOptions:T}),schema:t,uiSchema:i,registry:E,value:o,disabled:s,readonly:u,required:h,label:k,placeholder:v,formContext:F,autofocus:m,rawErrors:S})},n.renderFiles=function(){var e=this.props,t=e.schema,a=e.uiSchema,i=e.idSchema,n=e.disabled,o=void 0!==n&&n,l=e.readonly,s=void 0!==l&&l,d=e.autofocus,u=void 0!==d&&d,c=e.required,m=void 0!==c&&c,f=e.onBlur,h=e.onFocus,v=e.registry,y=e.formData,g=void 0===y?[]:y,E=e.rawErrors,S=t.title||e.name,b=v.widgets,C=v.formContext,F=r.getUiOptions(a),D=F.widget,O=void 0===D?"files":D,k=x(F,A),T=r.getWidget(t,O,b);return p.default.createElement(T,{options:k,id:i.$id,multiple:!0,onChange:this.onSelectChange,onBlur:f,onFocus:h,schema:t,uiSchema:a,title:S,value:g,disabled:o,readonly:s,required:m,registry:v,formContext:C,autofocus:u,rawErrors:E,label:""})},n.renderFixedArray=function(){var e=this,t=this.props,a=t.schema,i=t.uiSchema,n=void 0===i?{}:i,o=t.formData,l=void 0===o?[]:o,s=t.errorSchema,d=t.idPrefix,u=t.idSeparator,c=void 0===u?"_":u,m=t.idSchema,f=t.name,h=t.disabled,v=void 0!==h&&h,y=t.readonly,g=void 0!==y&&y,S=t.autofocus,b=void 0!==S&&S,C=t.required,F=void 0!==C&&C,O=t.registry,k=t.onBlur,x=t.onFocus,T=t.rawErrors,N=this.state.keyedFormData,A=this.props.formData,w=void 0===A?[]:A,I=a.title||f,B=r.getUiOptions(n),U=O.schemaUtils,P=O.formContext,q=(E.default(a.items)?a.items:[]).map((function(e,t){return U.retrieveSchema(e,l[t])})),R=E.default(a.additionalItems)?U.retrieveSchema(a.additionalItems,l):null;(!w||w.length<q.length)&&(w=(w=w||[]).concat(new Array(q.length-w.length)));var _=this.canAddItem(w)&&!!R,V={canAdd:_,className:"field field-array field-array-fixed-items",disabled:v,idSchema:m,formData:l,items:N.map((function(t,r){var i=t.key,o=t.item,l=r>=q.length,u=l&&E.default(a.additionalItems)?U.retrieveSchema(a.additionalItems,o):q[r],p=U.toIdSchema(u,m.$id+c+r,o,d,c),h=l?n.additionalItems||{}:Array.isArray(n.items)?n.items[r]:n.items||{};return e.renderArrayFieldItem({key:i,index:r,name:f&&f+"-"+r,canAdd:_,canRemove:l,canMoveUp:r>=q.length+1,canMoveDown:l&&r<w.length-1,itemSchema:u,itemData:o,itemUiSchema:h,itemIdSchema:p,itemErrorSchema:s?s[r]:void 0,autofocus:b&&0===r,onBlur:k,onFocus:x,rawErrors:T,totalItems:N.length})})),onAddClick:this.onAddClick,readonly:g,required:F,registry:O,schema:a,uiSchema:n,title:I,formContext:P,rawErrors:T},j=r.getTemplate("ArrayFieldTemplate",O,B);return p.default.createElement(j,D({},V))},n.renderArrayFieldItem=function(e){var t=e.key,a=e.index,i=e.name,n=e.canAdd,o=e.canRemove,l=void 0===o||o,s=e.canMoveUp,d=void 0===s||s,u=e.canMoveDown,c=void 0===u||u,m=e.itemSchema,f=e.itemData,h=e.itemUiSchema,v=e.itemIdSchema,y=e.itemErrorSchema,g=e.autofocus,E=e.onBlur,S=e.onFocus,b=e.rawErrors,C=e.totalItems,F=this.props,D=F.disabled,O=F.hideError,k=F.idPrefix,x=F.idSeparator,T=F.readonly,N=F.registry,A=F.formContext,w=N.fields,I=w.ArraySchemaField||w.SchemaField,B=r.getUiOptions(F.uiSchema),U=B.orderable,P=void 0===U||U,q=B.removable,R={moveUp:P&&d,moveDown:P&&c,remove:(void 0===q||q)&&l,toolbar:!1};return R.toolbar=Object.keys(R).some((function(e){return R[e]})),{children:p.default.createElement(I,{name:i,index:a,schema:m,uiSchema:h,formData:f,formContext:A,errorSchema:y,idPrefix:k,idSeparator:x,idSchema:v,required:this.isItemRequired(m),onChange:this.onChangeForIndex(a),onBlur:E,onFocus:S,registry:N,disabled:D,readonly:T,hideError:O,autofocus:g,rawErrors:b}),className:"array-item",disabled:D,canAdd:n,hasToolbar:R.toolbar,hasMoveUp:R.moveUp,hasMoveDown:R.moveDown,hasRemove:R.remove,index:a,totalItems:C,key:t,onAddIndexClick:this.onAddIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:T,registry:N,schema:m,uiSchema:h}},a=t,(i=[{key:"itemTitle",get:function(){var e=this.props.schema;return h.default(e,[r.ITEMS_KEY,"title"],h.default(e,[r.ITEMS_KEY,"description"],"Item"))}}])&&function(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,"symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key))?i:String(i),a)}var i}(a.prototype,i),Object.defineProperty(a,"prototype",{writable:!1}),t}(t.Component),P=["widget"];function q(e){var t,a=e.schema,i=e.name,n=e.uiSchema,o=e.idSchema,l=e.formData,s=e.registry,d=e.required,u=e.disabled,c=e.readonly,m=e.autofocus,f=e.onChange,h=e.onFocus,v=e.onBlur,y=e.rawErrors,g=a.title,S=s.widgets,b=s.formContext,C=r.getUiOptions(n),F=C.widget,O=void 0===F?"checkbox":F,k=x(C,P),T=r.getWidget(a,O,S);if(Array.isArray(a.oneOf))t=r.optionsList({oneOf:a.oneOf.map((function(e){if(E.default(e))return D({},e,{title:e.title||(!0===e.const?"Yes":"No")})})).filter((function(e){return e}))});else{var N,A=a,w=null!=(N=a.enum)?N:[!0,!1];t=!A.enumNames&&2===w.length&&w.every((function(e){return"boolean"==typeof e}))?[{value:w[0],label:w[0]?"Yes":"No"},{value:w[1],label:w[1]?"Yes":"No"}]:r.optionsList({enum:w,enumNames:A.enumNames})}return p.default.createElement(T,{options:D({},k,{enumOptions:t}),schema:a,uiSchema:n,id:o.$id,onChange:f,onFocus:h,onBlur:v,label:void 0===g?i:g,value:l,required:d,disabled:u,readonly:c,registry:s,formContext:b,autofocus:m,rawErrors:y})}var R=["widget","placeholder","autofocus","autocomplete","title"],_="Option",V=function(e){function t(t){var r;(r=e.call(this,t)||this).onOptionChange=function(e){var t=r.state,a=t.selectedOption,i=t.retrievedOptions,n=r.props,o=n.formData,l=n.onChange,s=n.registry.schemaUtils,d=void 0!==e?parseInt(e,10):-1;if(d!==a){var u=d>=0?i[d]:void 0,c=s.sanitizeDataForNewSchema(u,a>=0?i[a]:void 0,o);c&&u&&(c=s.getDefaultFormState(u,c,"excludeObjectChildren")),l(c,void 0,r.getFieldId()),r.setState({selectedOption:d})}};var a=r.props,i=a.formData,n=a.registry.schemaUtils,o=a.options.map((function(e){return n.retrieveSchema(e,i)}));return r.state={retrievedOptions:o,selectedOption:r.getMatchingOption(0,i,o)},r}O(t,e);var a=t.prototype;return a.componentDidUpdate=function(e,t){var a=this.props,i=a.formData,n=a.options,o=a.idSchema,l=this.state.selectedOption,s=this.state;if(!r.deepEquals(e.options,n)){var d=this.props.registry.schemaUtils;s={selectedOption:l,retrievedOptions:n.map((function(e){return d.retrieveSchema(e,i)}))}}if(!r.deepEquals(i,e.formData)&&o.$id===e.idSchema.$id){var u=s.retrievedOptions,c=this.getMatchingOption(l,i,u);t&&c!==l&&(s={selectedOption:c,retrievedOptions:u})}s!==this.state&&this.setState(s)},a.getMatchingOption=function(e,t,r){var a=this.props.registry.schemaUtils.getClosestMatchingOption(t,r,e);return a>0?a:e||0},a.getFieldId=function(){var e=this.props;return e.idSchema.$id+(e.schema.oneOf?"__oneof_select":"__anyof_select")},a.render=function(){var e,t=this.props,a=t.baseType,i=t.disabled,n=void 0!==i&&i,o=t.errorSchema,l=void 0===o?{}:o,s=t.formContext,d=t.onBlur,u=t.onFocus,c=t.registry,m=t.schema,f=c.widgets,y=c.fields.SchemaField,g=this.state,E=g.selectedOption,S=g.retrievedOptions,C=r.getUiOptions(t.uiSchema),F=C.widget,O=void 0===F?"select":F,k=C.placeholder,T=C.autofocus,N=C.autocomplete,A=C.title,w=void 0===A?m.title:A,I=x(C,R),B=r.getWidget({type:"number"},O,f),U=h.default(l,r.ERRORS_KEY,[]),P=b.default(l,[r.ERRORS_KEY]),q=E>=0&&S[E]||null;q&&(e=q.type?q:Object.assign({},q,{type:a}));var V=w?w+" "+_.toLowerCase():_,j=S.map((function(e,t){return{label:e.title||V+" "+(t+1),value:t}}));return p.default.createElement("div",{className:"panel panel-default panel-body"},p.default.createElement("div",{className:"form-group"},p.default.createElement(B,{id:this.getFieldId(),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:d,onFocus:u,disabled:n||v.default(j),multiple:!1,rawErrors:U,errorSchema:P,value:E>=0?E:void 0,options:D({enumOptions:j},I),registry:c,formContext:s,placeholder:k,autocomplete:N,autofocus:T,label:""})),null!==q&&p.default.createElement(y,D({},this.props,{schema:e})))},t}(t.Component),j=/\.([0-9]*0)*$/,K=/[0.]0*$/;function M(e){var a=e.registry,i=e.onChange,n=e.formData,o=t.useState(e.value),l=o[0],s=o[1],d=a.fields.StringField,u=n,c=t.useCallback((function(e){s(e),"."===(""+e).charAt(0)&&(e="0"+e);var t="string"==typeof e&&e.match(j)?r.asNumber(e.replace(K,"")):r.asNumber(e);i(t)}),[i]);if("string"==typeof l&&"number"==typeof u){var m=new RegExp((""+u).replace(".","\\.")+"\\.?0*$");l.match(m)&&(u=l)}return p.default.createElement(d,D({},e,{formData:u,onChange:c}))}var W=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))||this).state={wasPropertyKeyModified:!1,additionalProperties:{}},t.onPropertyChange=function(e,r){return void 0===r&&(r=!1),function(a,i,n){var o,l,s=t.props,d=s.errorSchema;void 0===a&&r&&(a=""),(0,s.onChange)(D({},s.formData,((o={})[e]=a,o)),d&&d&&D({},d,((l={})[e]=i,l)),n)}},t.onDropPropertyClick=function(e){return function(r){r.preventDefault();var a=t.props,i=a.onChange,n=D({},a.formData);F.default(n,e),i(n)}},t.getAvailableKey=function(e,a){for(var i=r.getUiOptions(t.props.uiSchema).duplicateKeySuffixSeparator,n=void 0===i?"-":i,o=0,l=e;C.default(a,l);)l=""+e+n+ ++o;return l},t.onKeyChange=function(e){return function(r,a){var i,n;if(e!==r){var o=t.props,l=o.formData,s=o.onChange,d=o.errorSchema;r=t.getAvailableKey(r,l);var u=D({},l),c=((i={})[e]=r,i),m=Object.keys(u).map((function(e){var t;return(t={})[c[e]||e]=u[e],t})),f=Object.assign.apply(Object,[{}].concat(m));t.setState({wasPropertyKeyModified:!0}),s(f,d&&d&&D({},d,((n={})[r]=a,n)))}}},t.handleAddClick=function(e){return function(){if(e.additionalProperties){var a=t.props,i=a.formData,n=a.onChange,o=a.registry,l=D({},i),s=void 0;if(E.default(e.additionalProperties)){s=e.additionalProperties.type;var d=e.additionalProperties;r.REF_KEY in d&&(s=(d=o.schemaUtils.retrieveSchema({$ref:d[r.REF_KEY]},i)).type),s||!(r.ANY_OF_KEY in d)&&!(r.ONE_OF_KEY in d)||(s="object")}var u=t.getAvailableKey("newKey",l);S.default(l,u,t.getDefaultValue(s)),n(l)}}},t}O(t,e);var a=t.prototype;return a.isRequired=function(e){var t=this.props.schema;return Array.isArray(t.required)&&-1!==t.required.indexOf(e)},a.getDefaultValue=function(e){switch(e){case"string":default:return"New Value";case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{}}},a.render=function(){var e,t=this,a=this.props,i=a.uiSchema,n=void 0===i?{}:i,o=a.formData,l=a.errorSchema,s=a.idSchema,d=a.name,u=a.required,c=void 0!==u&&u,m=a.disabled,f=void 0!==m&&m,v=a.readonly,y=void 0!==v&&v,g=a.hideError,E=a.idPrefix,S=a.idSeparator,b=a.onBlur,F=a.onFocus,O=a.registry,k=O.formContext,x=O.fields.SchemaField,T=O.schemaUtils.retrieveSchema(a.schema,o),N=r.getUiOptions(n),A=T.properties,w=void 0===A?{}:A,I=void 0===T.title?d:T.title,B=N.description||T.description;try{var U=Object.keys(w);e=r.orderProperties(U,N.order)}catch(e){return p.default.createElement("div",null,p.default.createElement("p",{className:"config-error",style:{color:"red"}},"Invalid ",d||"root"," object field configuration:",p.default.createElement("em",null,e.message),"."),p.default.createElement("pre",null,JSON.stringify(T)))}var P=r.getTemplate("ObjectFieldTemplate",O,N),q={title:N.title||I,description:B,properties:e.map((function(e){var a=C.default(T,[r.PROPERTIES_KEY,e,r.ADDITIONAL_PROPERTY_FLAG]),i=a?n.additionalProperties:n[e],d="hidden"===r.getUiOptions(i).widget,u=h.default(s,[e],{});return{content:p.default.createElement(x,{key:e,name:e,required:t.isRequired(e),schema:h.default(T,[r.PROPERTIES_KEY,e],{}),uiSchema:i,errorSchema:h.default(l,e),idSchema:u,idPrefix:E,idSeparator:S,formData:h.default(o,e),formContext:k,wasPropertyKeyModified:t.state.wasPropertyKeyModified,onKeyChange:t.onKeyChange(e),onChange:t.onPropertyChange(e,a),onBlur:b,onFocus:F,registry:O,disabled:f,readonly:y,hideError:g,onDropPropertyClick:t.onDropPropertyClick}),name:e,readonly:y,disabled:f,required:c,hidden:d}})),readonly:y,disabled:f,required:c,idSchema:s,uiSchema:n,schema:T,formData:o,formContext:k,registry:O};return p.default.createElement(P,D({},q,{onAddClick:this.handleAddClick}))},t}(t.Component),L=["__errors"],Y={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function $(e){var t=e.schema,a=e.idSchema,i=e.uiSchema,n=e.formData,o=e.errorSchema,l=e.idPrefix,s=e.idSeparator,d=e.name,u=e.onChange,c=e.onKeyChange,m=e.onDropPropertyClick,f=e.required,h=e.registry,v=e.wasPropertyKeyModified,y=void 0!==v&&v,g=h.formContext,S=h.schemaUtils,C=r.getUiOptions(i),F=r.getTemplate("FieldTemplate",h,C),O=r.getTemplate("DescriptionFieldTemplate",h,C),k=r.getTemplate("FieldHelpTemplate",h,C),T=r.getTemplate("FieldErrorTemplate",h,C),N=S.retrieveSchema(t,n),A=a[r.ID_KEY],w=r.mergeObjects(S.toIdSchema(N,A,n,l,s),a),I=p.default.useCallback((function(e,t,r){return u(e,t,r||A)}),[A,u]),B=function(e,t,a,i){var n=t.field,o=i.fields;if("function"==typeof n)return n;if("string"==typeof n&&n in o)return o[n];var l=r.getSchemaType(e),s=Array.isArray(l)?l[0]:l||"",d=Y[s];return d||!e.anyOf&&!e.oneOf?d in o?o[d]:function(){var n=r.getTemplate("UnsupportedFieldTemplate",i,t);return p.default.createElement(n,{schema:e,idSchema:a,reason:"Unknown field type "+e.type,registry:i})}:function(){return null}}(N,C,w,h),U=Boolean(e.disabled||C.disabled),P=Boolean(e.readonly||C.readonly||e.schema.readOnly||N.readOnly),q=C.hideError,R=void 0===q?e.hideError:Boolean(q),_=Boolean(e.autofocus||C.autofocus);if(0===Object.keys(N).length)return null;var V=S.getDisplayLabel(N,i),j=o||{},K=j.__errors,M=x(j,L),W=b.default(i,["ui:classNames","classNames","ui:style"]);r.UI_OPTIONS_KEY in W&&(W[r.UI_OPTIONS_KEY]=b.default(W[r.UI_OPTIONS_KEY],["classNames","style"]));var $,z=p.default.createElement(B,D({},e,{onChange:I,idSchema:w,schema:N,uiSchema:W,disabled:U,readonly:P,hideError:R,autofocus:_,errorSchema:M,formContext:g,rawErrors:K})),J=w[r.ID_KEY];$=y||r.ADDITIONAL_PROPERTY_FLAG in N?d:C.title||e.schema.title||N.title||d;var H=C.description||e.schema.description||N.description||"",G=C.help,Q="hidden"===C.widget,X=["form-group","field","field-"+N.type];!R&&K&&K.length>0&&X.push("field-error has-error has-danger"),null!=i&&i.classNames&&X.push(i.classNames),C.classNames&&X.push(C.classNames);var Z=p.default.createElement(k,{help:G,idSchema:w,schema:N,uiSchema:i,hasErrors:!R&&K&&K.length>0,registry:h}),ee=R?void 0:p.default.createElement(T,{errors:K,errorSchema:o,idSchema:w,schema:N,uiSchema:i,registry:h}),te={description:p.default.createElement(O,{id:r.descriptionId(J),description:H,schema:N,uiSchema:i,registry:h}),rawDescription:H,help:Z,rawHelp:"string"==typeof G?G:void 0,errors:ee,rawErrors:R?void 0:K,id:J,label:$,hidden:Q,onChange:u,onKeyChange:c,onDropPropertyClick:m,required:f,disabled:U,readonly:P,hideError:R,displayLabel:V,classNames:X.join(" ").trim(),style:C.style,formContext:g,formData:n,schema:N,uiSchema:i,registry:h},re=h.fields.AnyOfField,ae=h.fields.OneOfField,ie=(null==i?void 0:i["ui:field"])&&!0===(null==i?void 0:i["ui:fieldReplacesAnyOrOneOf"]);return p.default.createElement(F,D({},te),p.default.createElement(p.default.Fragment,null,z,N.anyOf&&!ie&&!S.isSelect(N)&&p.default.createElement(re,{name:d,disabled:U,readonly:P,hideError:R,errorSchema:o,formData:n,formContext:g,idPrefix:l,idSchema:w,idSeparator:s,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:N.anyOf.map((function(e){return S.retrieveSchema(E.default(e)?e:{},n)})),baseType:N.type,registry:h,schema:N,uiSchema:i}),N.oneOf&&!ie&&!S.isSelect(N)&&p.default.createElement(ae,{name:d,disabled:U,readonly:P,hideError:R,errorSchema:o,formData:n,formContext:g,idPrefix:l,idSchema:w,idSeparator:s,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:N.oneOf.map((function(e){return S.retrieveSchema(E.default(e)?e:{},n)})),baseType:N.type,registry:h,schema:N,uiSchema:i})))}var z=function(e){function t(){return e.apply(this,arguments)||this}O(t,e);var a=t.prototype;return a.shouldComponentUpdate=function(e){return!r.deepEquals(this.props,e)},a.render=function(){return p.default.createElement($,D({},this.props))},t}(p.default.Component),J=["widget","placeholder"];function H(e){var t=e.schema,a=e.name,i=e.uiSchema,n=e.idSchema,o=e.formData,l=e.required,s=e.disabled,d=void 0!==s&&s,u=e.readonly,c=void 0!==u&&u,m=e.autofocus,f=void 0!==m&&m,h=e.onChange,v=e.onBlur,y=e.onFocus,g=e.registry,E=e.rawErrors,S=t.title,b=t.format,C=g.widgets,F=g.formContext,O=g.schemaUtils.isSelect(t)?r.optionsList(t):void 0,k=O?"select":"text";b&&r.hasWidget(t,b,C)&&(k=b);var T=r.getUiOptions(i),N=T.widget,A=void 0===N?k:N,w=T.placeholder,I=void 0===w?"":w,B=x(T,J),U=r.getWidget(t,A,C);return p.default.createElement(U,{options:D({},B,{enumOptions:O}),schema:t,uiSchema:i,id:n.$id,label:void 0===S?a:S,value:o,onChange:h,onBlur:v,onFocus:y,required:l,disabled:d,readonly:c,formContext:F,autofocus:f,registry:g,placeholder:I,rawErrors:E})}function G(e){var r=e.formData,a=e.onChange;return t.useEffect((function(){void 0===r&&a(null)}),[r,a]),null}function Q(e){var t=e.idSchema,a=e.description,i=e.registry,n=e.schema,o=e.uiSchema,l=r.getUiOptions(o),s=l.label;if(!a||void 0!==s&&!s)return null;var d=r.getTemplate("DescriptionFieldTemplate",i,l);return p.default.createElement(d,{id:r.descriptionId(t),description:a,schema:n,uiSchema:o,registry:i})}function X(e){var t=e.disabled,r=e.hasToolbar,a=e.hasMoveDown,i=e.hasMoveUp,n=e.hasRemove,o=e.index,l=e.onDropIndexClick,s=e.onReorderClick,d=e.readonly,u=e.registry,c=e.uiSchema,m=u.templates.ButtonTemplates,f=m.MoveDownButton,h=m.MoveUpButton,v=m.RemoveButton,y={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return p.default.createElement("div",{className:e.className},p.default.createElement("div",{className:r?"col-xs-9":"col-xs-12"},e.children),r&&p.default.createElement("div",{className:"col-xs-3 array-item-toolbox"},p.default.createElement("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"}},(i||a)&&p.default.createElement(h,{style:y,disabled:t||d||!i,onClick:s(o,o-1),uiSchema:c,registry:u}),(i||a)&&p.default.createElement(f,{style:y,disabled:t||d||!a,onClick:s(o,o+1),uiSchema:c,registry:u}),n&&p.default.createElement(v,{style:y,disabled:t||d,onClick:l(o),uiSchema:c,registry:u}))))}var Z=["key"];function ee(e){var t=e.canAdd,a=e.className,i=e.disabled,n=e.idSchema,o=e.uiSchema,l=e.items,s=e.onAddClick,d=e.readonly,u=e.registry,c=e.required,m=e.schema,f=e.title,h=r.getUiOptions(o),v=r.getTemplate("ArrayFieldDescriptionTemplate",u,h),y=r.getTemplate("ArrayFieldItemTemplate",u,h),g=r.getTemplate("ArrayFieldTitleTemplate",u,h),E=u.templates.ButtonTemplates.AddButton;return p.default.createElement("fieldset",{className:a,id:n.$id},p.default.createElement(g,{idSchema:n,title:h.title||f,required:c,schema:m,uiSchema:o,registry:u}),p.default.createElement(v,{idSchema:n,description:h.description||m.description,schema:m,uiSchema:o,registry:u}),p.default.createElement("div",{className:"row array-item-list"},l&&l.map((function(e){var t=e.key,r=x(e,Z);return p.default.createElement(y,D({key:t},r))}))),t&&p.default.createElement(E,{className:"array-item-add",onClick:s,disabled:i||d,uiSchema:o,registry:u}))}function te(e){var t=e.idSchema,a=e.title,i=e.schema,n=e.uiSchema,o=e.required,l=e.registry,s=r.getUiOptions(n),d=s.label;if(!a||void 0!==d&&!d)return null;var u=r.getTemplate("TitleFieldTemplate",l,s);return p.default.createElement(u,{id:r.titleId(t),title:a,required:o,schema:i,uiSchema:n,registry:l})}var re=["id","value","readonly","disabled","autofocus","onBlur","onFocus","onChange","options","schema","uiSchema","formContext","registry","rawErrors","type"];function ae(e){var a=e.id,i=e.value,n=e.readonly,o=e.disabled,l=e.autofocus,s=e.onBlur,d=e.onFocus,u=e.onChange,c=e.options,m=e.schema,f=e.type,h=x(e,re);if(!a)throw console.log("No id for",e),new Error("no id for props "+JSON.stringify(e));var v,y=D({},h,r.getInputProps(m,f,c));v="number"===y.type||"integer"===y.type?i||0===i?i:"":null==i?"":i;var g=t.useCallback((function(e){var t=e.target.value;return u(""===t?c.emptyValue:t)}),[u,c]),E=t.useCallback((function(e){return s(a,e.target.value)}),[s,a]),S=t.useCallback((function(e){return d(a,e.target.value)}),[d,a]);return p.default.createElement(p.default.Fragment,null,p.default.createElement("input",D({id:a,name:a,className:"form-control",readOnly:n,disabled:o,autoFocus:l,value:v},y,{list:m.examples?r.examplesId(a):void 0,onChange:g,onBlur:E,onFocus:S,"aria-describedby":r.ariaDescribedByIds(a,!!m.examples)})),Array.isArray(m.examples)&&p.default.createElement("datalist",{key:"datalist_"+a,id:r.examplesId(a)},m.examples.concat(m.default&&!m.examples.includes(m.default)?[m.default]:[]).map((function(e){return p.default.createElement("option",{key:e,value:e})}))))}function ie(e){var t=r.getSubmitButtonOptions(e.uiSchema),a=t.submitText,i=t.props,n=void 0===i?{}:i;return t.norender?null:p.default.createElement("div",null,p.default.createElement("button",D({type:"submit"},n,{className:"btn btn-info "+n.className}),a))}var ne=["iconType","icon","className","uiSchema","registry"];function oe(e){var t=e.iconType,r=void 0===t?"default":t,a=e.icon,i=e.className,n=x(e,ne);return p.default.createElement("button",D({type:"button",className:"btn btn-"+r+" "+i},n),p.default.createElement("i",{className:"glyphicon glyphicon-"+a}))}function le(e){return p.default.createElement(oe,D({title:"Move down",className:"array-item-move-down"},e,{icon:"arrow-down"}))}function se(e){return p.default.createElement(oe,D({title:"Move up",className:"array-item-move-up"},e,{icon:"arrow-up"}))}function de(e){return p.default.createElement(oe,D({title:"Remove",className:"array-item-remove"},e,{iconType:"danger",icon:"remove"}))}function ue(e){return p.default.createElement("div",{className:"row"},p.default.createElement("p",{className:"col-xs-3 col-xs-offset-9 text-right "+e.className},p.default.createElement(oe,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:"Add",onClick:e.onClick,disabled:e.disabled,registry:e.registry})))}function ce(e){var t=e.description;return t?p.default.createElement("string"==typeof t?"p":"div",{id:e.id,className:"field-description"},t):null}function me(e){var t=e.errors;return p.default.createElement("div",{className:"panel panel-danger errors"},p.default.createElement("div",{className:"panel-heading"},p.default.createElement("h3",{className:"panel-title"},"Errors")),p.default.createElement("ul",{className:"list-group"},t.map((function(e,t){return p.default.createElement("li",{key:t,className:"list-group-item text-danger"},e.stack)}))))}function fe(e){var t=e.label;return t?p.default.createElement("label",{className:"control-label",htmlFor:e.id},t,e.required&&p.default.createElement("span",{className:"required"},"*")):null}function pe(e){var t=e.id,a=e.label,i=e.children,n=e.errors,o=e.help,l=e.description,s=e.hidden,d=e.required,u=e.displayLabel,c=e.registry,m=r.getUiOptions(e.uiSchema),f=r.getTemplate("WrapIfAdditionalTemplate",c,m);return s?p.default.createElement("div",{className:"hidden"},i):p.default.createElement(f,D({},e),u&&p.default.createElement(fe,{label:a,required:d,id:t}),u&&l?l:null,i,n,o)}function he(e){var t=e.errors,a=void 0===t?[]:t;if(0===a.length)return null;var i=r.errorId(e.idSchema);return p.default.createElement("div",null,p.default.createElement("ul",{id:i,className:"error-detail bs-callout bs-callout-info"},a.filter((function(e){return!!e})).map((function(e,t){return p.default.createElement("li",{className:"text-danger",key:t},e)}))))}function ve(e){var t=e.help;if(!t)return null;var a=r.helpId(e.idSchema);return p.default.createElement("string"==typeof t?"p":"div",{id:a,className:"help-block"},t)}function ye(e){var t=e.description,a=e.disabled,i=e.formData,n=e.idSchema,o=e.onAddClick,l=e.properties,s=e.readonly,d=e.registry,u=e.required,c=e.schema,m=e.title,f=e.uiSchema,h=r.getUiOptions(f),v=r.getTemplate("TitleFieldTemplate",d,h),y=r.getTemplate("DescriptionFieldTemplate",d,h),g=d.templates.ButtonTemplates.AddButton;return p.default.createElement("fieldset",{id:n.$id},(h.title||m)&&p.default.createElement(v,{id:r.titleId(n),title:h.title||m,required:u,schema:c,uiSchema:f,registry:d}),(h.description||t)&&p.default.createElement(y,{id:r.descriptionId(n),description:h.description||t,schema:c,uiSchema:f,registry:d}),l.map((function(e){return e.content})),r.canExpand(c,f,i)&&p.default.createElement(g,{className:"object-property-expand",onClick:o(c),disabled:a||s,uiSchema:f,registry:d}))}function ge(e){return p.default.createElement("legend",{id:e.id},e.title,e.required&&p.default.createElement("span",{className:"required"},"*"))}function Ee(e){var t=e.schema,r=e.idSchema,a=e.reason;return p.default.createElement("div",{className:"unsupported-field"},p.default.createElement("p",null,"Unsupported field schema",r&&r.$id&&p.default.createElement("span",null," for"," field ",p.default.createElement("code",null,r.$id)),a&&p.default.createElement("em",null,": ",a),"."),t&&p.default.createElement("pre",null,JSON.stringify(t,null,2)))}function Se(e){var t=e.id,a=e.disabled,i=e.label,n=e.onKeyChange,o=e.onDropPropertyClick,l=e.readonly,s=e.children,d=e.uiSchema,u=e.registry,c=u.templates.ButtonTemplates.RemoveButton;return p.default.createElement("div",{className:e.classNames,style:e.style},r.ADDITIONAL_PROPERTY_FLAG in e.schema?p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col-xs-5 form-additional"},p.default.createElement("div",{className:"form-group"},p.default.createElement(fe,{label:i+" Key",required:e.required,id:t+"-key"}),p.default.createElement("input",{className:"form-control",type:"text",id:t+"-key",onBlur:function(e){return n(e.target.value)},defaultValue:i}))),p.default.createElement("div",{className:"form-additional form-group col-xs-5"},s),p.default.createElement("div",{className:"col-xs-2"},p.default.createElement(c,{className:"array-item-remove btn-block",style:{border:"0"},disabled:a||l,onClick:o(i),uiSchema:d,registry:u}))):s)}function be(e,t){for(var a=[],i=e;i<=t;i++)a.push({value:i,label:r.pad(i,2)});return a}function Ce(e){var t=e.type,a=e.range,i=e.value,n=e.select,o=e.rootId,l=e.disabled,s=e.readonly,d=e.autofocus,u=e.registry,c=e.onBlur,m=e.onFocus;return p.default.createElement(u.widgets.SelectWidget,{schema:{type:"integer"},id:o+"_"+t,className:"form-control",options:{enumOptions:be(a[0],a[1])},placeholder:t,value:i,disabled:l,readonly:s,autofocus:d,onChange:function(e){return n(t,e)},onBlur:c,onFocus:m,registry:u,label:"","aria-describedby":r.ariaDescribedByIds(o)})}function Fe(e){var a=e.time,i=void 0!==a&&a,n=e.disabled,o=void 0!==n&&n,l=e.readonly,s=void 0!==l&&l,d=e.autofocus,u=void 0!==d&&d,c=e.options,m=e.id,f=e.registry,h=e.onBlur,v=e.onFocus,y=e.onChange,g=e.value,E=t.useReducer((function(e,t){return D({},e,t)}),r.parseDateString(g,i)),S=E[0],b=E[1];t.useEffect((function(){g&&g!==r.toDateString(S,i)&&b(r.parseDateString(g,i))}),[g,S,i]),t.useEffect((function(){(function(e){return Object.values(e).every((function(e){return-1!==e}))})(S)&&y(r.toDateString(S,i))}),[S,i,y]);var C=t.useCallback((function(e,t){var r;b(((r={})[e]=t,r))}),[]),F=t.useCallback((function(e){if(e.preventDefault(),!o&&!s){var t=r.parseDateString((new Date).toJSON(),i);b(t)}}),[o,s,i]),O=t.useCallback((function(e){e.preventDefault(),o||s||(b(r.parseDateString("",i)),y(void 0))}),[o,s,i,y]);return p.default.createElement("ul",{className:"list-inline"},function(e,t,r){void 0===r&&(r=[1900,(new Date).getFullYear()+2]);var a=[{type:"year",range:r,value:e.year},{type:"month",range:[1,12],value:e.month},{type:"day",range:[1,31],value:e.day}];return t&&a.push({type:"hour",range:[0,23],value:e.hour},{type:"minute",range:[0,59],value:e.minute},{type:"second",range:[0,59],value:e.second}),a}(S,i,c.yearsRange).map((function(e,t){return p.default.createElement("li",{className:"list-inline-item",key:t},p.default.createElement(Ce,D({rootId:m,select:C},e,{disabled:o,readonly:s,registry:f,onBlur:h,onFocus:v,autofocus:u&&0===t})))})),("undefined"===c.hideNowButton||!c.hideNowButton)&&p.default.createElement("li",{className:"list-inline-item"},p.default.createElement("a",{href:"#",className:"btn btn-info btn-now",onClick:F},"Now")),("undefined"===c.hideClearButton||!c.hideClearButton)&&p.default.createElement("li",{className:"list-inline-item"},p.default.createElement("a",{href:"#",className:"btn btn-warning btn-clear",onClick:O},"Clear")))}var De=["time"];function Oe(e){var t=e.time,r=void 0===t||t,a=x(e,De);return p.default.createElement(a.registry.widgets.AltDateWidget,D({time:r},a))}function ke(e){var a=e.schema,i=e.uiSchema,n=e.id,o=e.value,l=e.disabled,s=e.readonly,d=e.label,u=e.autofocus,c=void 0!==u&&u,m=e.onBlur,f=e.onFocus,h=e.onChange,v=e.registry,y=r.getTemplate("DescriptionFieldTemplate",v,e.options),g=r.schemaRequiresTrueValue(a),E=t.useCallback((function(e){return h(e.target.checked)}),[h]),S=t.useCallback((function(e){return m(n,e.target.checked)}),[m,n]),b=t.useCallback((function(e){return f(n,e.target.checked)}),[f,n]);return p.default.createElement("div",{className:"checkbox "+(l||s?"disabled":"")},a.description&&p.default.createElement(y,{id:r.descriptionId(n),description:a.description,schema:a,uiSchema:i,registry:v}),p.default.createElement("label",null,p.default.createElement("input",{type:"checkbox",id:n,name:n,checked:void 0!==o&&o,required:g,disabled:l||s,autoFocus:c,onChange:E,onBlur:S,onFocus:b,"aria-describedby":r.ariaDescribedByIds(n)}),p.default.createElement("span",null,d)))}function xe(e){var a=e.id,i=e.disabled,n=e.options,o=n.inline,l=void 0!==o&&o,s=n.enumOptions,d=n.enumDisabled,u=n.emptyValue,c=e.value,m=e.autofocus,f=void 0!==m&&m,h=e.readonly,v=e.onChange,y=e.onBlur,g=e.onFocus,E=Array.isArray(c)?c:[c],S=t.useCallback((function(e){return y(a,r.enumOptionsValueForIndex(e.target.value,s,u))}),[y,a]),b=t.useCallback((function(e){return g(a,r.enumOptionsValueForIndex(e.target.value,s,u))}),[g,a]);return p.default.createElement("div",{className:"checkboxes",id:a},Array.isArray(s)&&s.map((function(e,t){var n=r.enumOptionsIsSelected(e.value,E),o=Array.isArray(d)&&-1!==d.indexOf(e.value),u=i||o||h?"disabled":"",c=p.default.createElement("span",null,p.default.createElement("input",{type:"checkbox",id:r.optionId(a,t),name:a,checked:n,value:String(t),disabled:i||o||h,autoFocus:f&&0===t,onChange:function(e){v(e.target.checked?r.enumOptionsSelectValue(t,E,s):r.enumOptionsDeselectValue(t,E,s))},onBlur:S,onFocus:b,"aria-describedby":r.ariaDescribedByIds(a)}),p.default.createElement("span",null,e.label));return l?p.default.createElement("label",{key:t,className:"checkbox-inline "+u},c):p.default.createElement("div",{key:t,className:"checkbox "+u},p.default.createElement("label",null,c))})))}function Te(e){var t=e.disabled,a=e.readonly,i=r.getTemplate("BaseInputTemplate",e.registry,e.options);return p.default.createElement(i,D({type:"color"},e,{disabled:t||a}))}function Ne(e){var a=e.onChange,i=r.getTemplate("BaseInputTemplate",e.registry,e.options),n=t.useCallback((function(e){return a(e||void 0)}),[a]);return p.default.createElement(i,D({type:"date"},e,{onChange:n}))}function Ae(e){var t=e.onChange,a=e.value,i=r.getTemplate("BaseInputTemplate",e.registry,e.options);return p.default.createElement(i,D({type:"datetime-local"},e,{value:r.utcToLocal(a),onChange:function(e){return t(r.localToUTC(e))}}))}function we(e){var t=r.getTemplate("BaseInputTemplate",e.registry,e.options);return p.default.createElement(t,D({type:"email"},e))}function Ie(e,t){return null===e?null:e.replace(";base64",";name="+encodeURIComponent(t)+";base64")}function Be(e){var t=e.name,r=e.size,a=e.type;return new Promise((function(i,n){var o=new window.FileReader;o.onerror=n,o.onload=function(e){var n;"string"==typeof(null===(n=e.target)||void 0===n?void 0:n.result)?i({dataURL:Ie(e.target.result,t),name:t,size:r,type:a}):i({dataURL:null,name:t,size:r,type:a})},o.readAsDataURL(e)}))}function Ue(e){var t=e.filesInfo;return 0===t.length?null:p.default.createElement("ul",{className:"file-info"},t.map((function(e,t){var r=e.size,a=e.type;return p.default.createElement("li",{key:t},p.default.createElement("strong",null,e.name)," (",a,", ",r," bytes)")})))}function Pe(e){return e.filter((function(e){return void 0!==e})).map((function(e){var t=r.dataURItoBlob(e),a=t.blob;return{name:t.name,size:a.size,type:a.type}}))}function qe(e){var a=e.multiple,i=e.id,n=e.readonly,o=e.disabled,l=e.onChange,s=e.value,d=e.autofocus,u=void 0!==d&&d,c=e.options,m=t.useMemo((function(){return Array.isArray(s)?Pe(s):Pe([s])}),[s]),f=t.useState(m),h=f[0],v=f[1],y=t.useCallback((function(e){var t;e.target.files&&(t=e.target.files,Promise.all(Array.from(t).map(Be))).then((function(e){v(e);var t=e.map((function(e){return e.dataURL}));l(a?t:t[0])}))}),[a,l]);return p.default.createElement("div",null,p.default.createElement("p",null,p.default.createElement("input",{id:i,name:i,type:"file",disabled:n||o,onChange:y,defaultValue:"",autoFocus:u,multiple:a,accept:c.accept?String(c.accept):void 0,"aria-describedby":r.ariaDescribedByIds(i)})),p.default.createElement(Ue,{filesInfo:h}))}function Re(e){var t=e.id,r=e.value;return p.default.createElement("input",{type:"hidden",id:t,name:t,value:void 0===r?"":r})}function _e(e){var t=r.getTemplate("BaseInputTemplate",e.registry,e.options);return p.default.createElement(t,D({type:"password"},e))}function Ve(e){var a=e.options,i=e.value,n=e.required,o=e.disabled,l=e.readonly,s=e.autofocus,d=void 0!==s&&s,u=e.onBlur,c=e.onFocus,m=e.onChange,f=e.id,h=Math.random().toString(),v=a.enumOptions,y=a.enumDisabled,g=a.inline,E=a.emptyValue,S=t.useCallback((function(e){return u(f,r.enumOptionsValueForIndex(e.target.value,v,E))}),[u,f]),b=t.useCallback((function(e){return c(f,r.enumOptionsValueForIndex(e.target.value,v,E))}),[c,f]);return p.default.createElement("div",{className:"field-radio-group",id:f},Array.isArray(v)&&v.map((function(e,t){var a=r.enumOptionsIsSelected(e.value,i),s=Array.isArray(y)&&-1!==y.indexOf(e.value),u=o||s||l?"disabled":"",c=p.default.createElement("span",null,p.default.createElement("input",{type:"radio",id:r.optionId(f,t),checked:a,name:h,required:n,value:String(t),disabled:o||s||l,autoFocus:d&&0===t,onChange:function(){return m(e.value)},onBlur:S,onFocus:b,"aria-describedby":r.ariaDescribedByIds(f)}),p.default.createElement("span",null,e.label));return g?p.default.createElement("label",{key:t,className:"radio-inline "+u},c):p.default.createElement("div",{key:t,className:"radio "+u},p.default.createElement("label",null,c))})))}function je(e){var t=e.value;return p.default.createElement("div",{className:"field-range-wrapper"},p.default.createElement(e.registry.templates.BaseInputTemplate,D({type:"range"},e)),p.default.createElement("span",{className:"range-view"},t))}function Ke(e,t){return t?Array.from(e.target.options).slice().filter((function(e){return e.selected})).map((function(e){return e.value})):e.target.value}function Me(e){var a=e.schema,i=e.id,n=e.options,o=e.value,l=e.required,s=e.disabled,d=e.readonly,u=e.multiple,c=void 0!==u&&u,m=e.autofocus,f=void 0!==m&&m,h=e.onChange,v=e.onBlur,y=e.onFocus,g=e.placeholder,E=n.enumOptions,S=n.enumDisabled,b=n.emptyValue,C=c?[]:"",F=t.useCallback((function(e){var t=Ke(e,c);return y(i,r.enumOptionsValueForIndex(t,E,b))}),[y,i,a,c,n]),D=t.useCallback((function(e){var t=Ke(e,c);return v(i,r.enumOptionsValueForIndex(t,E,b))}),[v,i,a,c,n]),O=t.useCallback((function(e){var t=Ke(e,c);return h(r.enumOptionsValueForIndex(t,E,b))}),[h,a,c,n]),k=r.enumOptionsIndexForValue(o,E,c);return p.default.createElement("select",{id:i,name:i,multiple:c,className:"form-control",value:void 0===k?C:k,required:l,disabled:s||d,autoFocus:f,onBlur:D,onFocus:F,onChange:O,"aria-describedby":r.ariaDescribedByIds(i)},!c&&void 0===a.default&&p.default.createElement("option",{value:""},g),Array.isArray(E)&&E.map((function(e,t){var r=e.label,a=S&&-1!==S.indexOf(e.value);return p.default.createElement("option",{key:t,value:String(t),disabled:a},r)})))}function We(e){var a=e.id,i=e.options,n=void 0===i?{}:i,o=e.placeholder,l=e.value,s=e.required,d=e.disabled,u=e.readonly,c=e.autofocus,m=void 0!==c&&c,f=e.onChange,h=e.onBlur,v=e.onFocus,y=t.useCallback((function(e){var t=e.target.value;return f(""===t?n.emptyValue:t)}),[f,n.emptyValue]),g=t.useCallback((function(e){return h(a,e.target.value)}),[h,a]),E=t.useCallback((function(e){return v(a,e.target.value)}),[a,v]);return p.default.createElement("textarea",{id:a,name:a,className:"form-control",value:l||"",placeholder:o,required:s,disabled:d,readOnly:u,autoFocus:m,rows:n.rows,onBlur:g,onFocus:E,onChange:y,"aria-describedby":r.ariaDescribedByIds(a)})}function Le(e){var t=r.getTemplate("BaseInputTemplate",e.registry,e.options);return p.default.createElement(t,D({},e))}function Ye(e){var t=r.getTemplate("BaseInputTemplate",e.registry,e.options);return p.default.createElement(t,D({type:"url"},e))}function $e(e){var t=r.getTemplate("BaseInputTemplate",e.registry,e.options);return p.default.createElement(t,D({type:"number"},e))}function ze(){return{fields:{AnyOfField:V,ArrayField:U,BooleanField:q,NumberField:M,ObjectField:W,OneOfField:V,SchemaField:z,StringField:H,NullField:G},templates:{ArrayFieldDescriptionTemplate:Q,ArrayFieldItemTemplate:X,ArrayFieldTemplate:ee,ArrayFieldTitleTemplate:te,ButtonTemplates:{SubmitButton:ie,AddButton:ue,MoveDownButton:le,MoveUpButton:se,RemoveButton:de},BaseInputTemplate:ae,DescriptionFieldTemplate:ce,ErrorListTemplate:me,FieldTemplate:pe,FieldErrorTemplate:he,FieldHelpTemplate:ve,ObjectFieldTemplate:ye,TitleFieldTemplate:ge,UnsupportedFieldTemplate:Ee,WrapIfAdditionalTemplate:Se},widgets:{PasswordWidget:_e,RadioWidget:Ve,UpDownWidget:$e,RangeWidget:je,SelectWidget:Me,TextWidget:Le,DateWidget:Ne,DateTimeWidget:Ae,AltDateWidget:Fe,AltDateTimeWidget:Oe,EmailWidget:we,URLWidget:Ye,TextareaWidget:We,HiddenWidget:Re,ColorWidget:Te,FileWidget:qe,CheckboxWidget:ke,CheckboxesWidget:xe},rootSchema:{},formContext:{}}}We.defaultProps={autofocus:!1,options:{}};var Je=function(e){function t(t){var a;if((a=e.call(this,t)||this).formElement=void 0,a.getUsedFormData=function(e,t){if(0===t.length&&"object"!=typeof e)return e;var r=y.default(e,t);return Array.isArray(e)?Object.keys(r).map((function(e){return r[e]})):r},a.getFieldNames=function(e,t){return function e(a,i,n){return void 0===i&&(i=[]),void 0===n&&(n=[[]]),Object.keys(a).forEach((function(o){if("object"==typeof a[o]){var l=n.map((function(e){return[].concat(e,[o])}));a[o][r.RJSF_ADDITONAL_PROPERTIES_FLAG]&&""!==a[o][r.NAME_KEY]?i.push(a[o][r.NAME_KEY]):e(a[o],i,l)}else o===r.NAME_KEY&&""!==a[o]&&n.forEach((function(e){var r=h.default(t,e);("object"!=typeof r||v.default(r))&&i.push(e)}))})),i}(e)},a.onChange=function(e,t,i){var n=a.props,o=n.extraErrors,l=n.omitExtraData,s=n.liveOmit,d=n.noValidate,u=n.liveValidate,c=n.onChange,m=a.state,f=m.schemaUtils,p=m.schema;(r.isObject(e)||Array.isArray(e))&&(e=a.getStateFromProps(a.props,e).formData);var h=!d&&u,v={formData:e,schema:p},y=e;if(!0===l&&!0===s){var g=f.retrieveSchema(p,e),E=f.toPathSchema(g,"",e),S=a.getFieldNames(E,e);y=a.getUsedFormData(e,S),v={formData:y}}if(h){var b=a.validate(y),C=b.errors,F=b.errorSchema,O=C,k=F;if(o){var x=f.mergeValidationData(b,o);F=x.errorSchema,C=x.errors}v={formData:y,errors:C,errorSchema:F,schemaValidationErrors:O,schemaValidationErrorSchema:k}}else if(!d&&t){var T=o?r.mergeObjects(t,o,"preventDuplicates"):t;v={formData:y,errorSchema:T,errors:f.getValidator().toErrorList(T)}}a.setState(v,(function(){return c&&c(D({},a.state,v),i)}))},a.onBlur=function(e,t){var r=a.props.onBlur;r&&r(e,t)},a.onFocus=function(e,t){var r=a.props.onFocus;r&&r(e,t)},a.onSubmit=function(e){if(e.preventDefault(),e.target===e.currentTarget){e.persist();var t=a.props,r=t.extraErrors,i=t.noValidate,n=t.onSubmit,o=a.state.formData,l=a.state,s=l.schemaUtils;if(!0===t.omitExtraData){var d=s.retrieveSchema(l.schema,o),u=s.toPathSchema(d,"",o),c=a.getFieldNames(u,o);o=a.getUsedFormData(o,c)}if(i||a.validateForm()){var m=r||{},f=r?s.getValidator().toErrorList(r):[];a.setState({formData:o,errors:f,errorSchema:m,schemaValidationErrors:[],schemaValidationErrorSchema:{}},(function(){n&&n(D({},a.state,{formData:o,status:"submitted"}),e)}))}}},!t.validator)throw new Error("A validator is required for Form functionality to work");return a.state=a.getStateFromProps(t,t.formData),a.props.onChange&&!r.deepEquals(a.state.formData,a.props.formData)&&a.props.onChange(a.state),a.formElement=p.default.createRef(),a}O(t,e);var a=t.prototype;return a.UNSAFE_componentWillReceiveProps=function(e){var t=this.getStateFromProps(e,e.formData);r.deepEquals(t.formData,e.formData)||r.deepEquals(t.formData,this.state.formData)||!e.onChange||e.onChange(t),this.setState(t)},a.getStateFromProps=function(e,t){var a=this.state||{},i="schema"in e?e.schema:this.props.schema,n=("uiSchema"in e?e.uiSchema:this.props.uiSchema)||{},o=void 0!==t,l=o&&!e.noValidate&&("liveValidate"in e?e.liveValidate:this.props.liveValidate),s=i,d=a.schemaUtils;d&&!d.doesSchemaUtilsDiffer(e.validator,s)||(d=r.createSchemaUtils(e.validator,s));var u,c,m=d.getDefaultFormState(i,t),f=d.retrieveSchema(i,m),p=a.schemaValidationErrors,h=a.schemaValidationErrorSchema;if(l){var v=this.validate(m,i,d);p=u=v.errors,h=c=v.errorSchema}else{var y=e.noValidate?{errors:[],errorSchema:{}}:e.liveValidate?{errors:a.errors||[],errorSchema:a.errorSchema||{}}:{errors:a.schemaValidationErrors||[],errorSchema:a.schemaValidationErrorSchema||{}};u=y.errors,c=y.errorSchema}if(e.extraErrors){var g=d.mergeValidationData({errorSchema:c,errors:u},e.extraErrors);c=g.errorSchema,u=g.errors}var E=d.toIdSchema(f,n["ui:rootFieldId"],m,e.idPrefix,e.idSeparator);return{schemaUtils:d,schema:i,uiSchema:n,idSchema:E,formData:m,edit:o,errors:u,errorSchema:c,schemaValidationErrors:p,schemaValidationErrorSchema:h}},a.shouldComponentUpdate=function(e,t){return r.shouldRender(this,e,t)},a.validate=function(e,t,r){void 0===t&&(t=this.props.schema);var a=r||this.state.schemaUtils,i=this.props,n=i.customValidate,o=i.transformErrors,l=i.uiSchema,s=a.retrieveSchema(t,e);return a.getValidator().validateFormData(e,s,n,o,l)},a.renderErrors=function(e){var t=this.state,a=t.errors,i=t.errorSchema,n=t.schema,o=t.uiSchema,l=this.props.formContext,s=r.getUiOptions(o),d=r.getTemplate("ErrorListTemplate",e,s);return a&&a.length?p.default.createElement(d,{errors:a,errorSchema:i||{},schema:n,uiSchema:o,formContext:l}):null},a.getRegistry=function(){var e,t=this.state.schemaUtils,r=ze(),a=r.templates,i=r.widgets,n=r.formContext;return{fields:D({},r.fields,this.props.fields),templates:D({},a,this.props.templates,{ButtonTemplates:D({},a.ButtonTemplates,null===(e=this.props.templates)||void 0===e?void 0:e.ButtonTemplates)}),widgets:D({},i,this.props.widgets),rootSchema:this.props.schema,formContext:this.props.formContext||n,schemaUtils:t}},a.submit=function(){this.formElement.current&&(this.formElement.current.dispatchEvent(new CustomEvent("submit",{cancelable:!0})),this.formElement.current.requestSubmit())},a.focusOnError=function(e){var t=this.props,r=t.idPrefix,a=void 0===r?"root":r,i=t.idSeparator,n=void 0===i?"_":i,o=g.default(e.property);""===o[0]?o[0]=a:o.unshift(a);var l=o.join(n),s=this.formElement.current.elements[l];s||(s=this.formElement.current.querySelector("input[id^="+l)),s&&s.focus()},a.validateForm=function(){var e=this.props,t=e.extraErrors,r=e.focusOnFirstError,a=e.onError,i=this.state.schemaUtils,n=this.validate(this.state.formData),o=n.errors,l=n.errorSchema,s=o,d=l;if(o.length>0){if(t){var u=i.mergeValidationData(n,t);l=u.errorSchema,o=u.errors}return r&&this.focusOnError(n.errors[0]),this.setState({errors:o,errorSchema:l,schemaValidationErrors:s,schemaValidationErrorSchema:d},(function(){a?a(o):console.error("Form validation failed",o)})),!1}return!0},a.render=function(){var e=this.props,t=e.children,r=e.id,a=e.idPrefix,i=e.idSeparator,n=e.className,o=void 0===n?"":n,l=e.tagName,s=e.name,d=e.method,u=e.target,c=e.action,m=e.autoComplete,f=e.enctype,h=e.acceptcharset,v=e.noHtml5Validate,y=void 0!==v&&v,g=e.disabled,E=void 0!==g&&g,S=e.readonly,b=void 0!==S&&S,C=e.formContext,F=e.showErrorList,D=void 0===F?"top":F,O=e._internalFormWrapper,k=this.state,x=k.schema,T=k.uiSchema,N=k.formData,A=k.errorSchema,w=k.idSchema,I=this.getRegistry(),B=I.fields.SchemaField,U=I.templates.ButtonTemplates.SubmitButton;return p.default.createElement(O||l||"form",{className:o||"rjsf",id:r,name:s,method:d,target:u,action:c,autoComplete:m,encType:f,acceptCharset:h,noValidate:y,onSubmit:this.onSubmit,as:O?l:void 0,ref:this.formElement},"top"===D&&this.renderErrors(I),p.default.createElement(B,{name:"",schema:x,uiSchema:T,errorSchema:A,idSchema:w,idPrefix:a,idSeparator:i,formContext:C,formData:N,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:I,disabled:E,readonly:b}),t||p.default.createElement(U,{uiSchema:T,registry:I}),"bottom"===D&&this.renderErrors(I))},t}(t.Component),He=["fields","widgets","templates"];e.default=Je,e.getDefaultRegistry=ze,e.withTheme=function(e){return t.forwardRef((function(t,r){var a,i,n=t.fields,o=t.widgets,l=t.templates,s=x(t,He);return n=D({},null==e?void 0:e.fields,n),o=D({},null==e?void 0:e.widgets,o),l=D({},null==e?void 0:e.templates,l,{ButtonTemplates:D({},null==e||null===(a=e.templates)||void 0===a?void 0:a.ButtonTemplates,null===(i=l)||void 0===i?void 0:i.ButtonTemplates)}),p.default.createElement(Je,D({},e,s,{fields:n,widgets:o,templates:l,ref:r}))}))},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=core.umd.production.min.js.map
